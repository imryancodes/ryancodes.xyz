<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Terminal</title>
  <link rel="icon" href="favicon4.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #0a0a0a;
      background-image: 
        radial-gradient(circle at 20% 50%, #050505 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, #050505 0%, transparent 50%),
        repeating-linear-gradient(
          0deg,
          rgba(0, 0, 0, 0.1) 0px,
          rgba(0, 0, 0, 0.1) 1px,
          transparent 1px,
          transparent 20px
        );
      color: #fff;
      font-family: Consolas, monospace;
      font-size: 16px;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    .monitor-frame {
      position: relative;
      width: 90vw;
      height: 80vh;
      max-width: 1600px;
      max-height: 750px;
      background: 
        linear-gradient(145deg, #3a3a3a 0%, #2a2a2a 50%, #1a1a1a 100%),
        repeating-linear-gradient(
          0deg,
          rgba(0, 0, 0, 0.1) 0px,
          rgba(0, 0, 0, 0.1) 1px,
          transparent 1px,
          transparent 4px
        );
      border: 30px solid #1a1a1a;
      border-top: 35px solid #1a1a1a;
      border-bottom: 40px solid #1a1a1a;
      border-radius: 12px;
      box-shadow: 
        0 0 0 4px #0a0a0a,
        inset 0 0 80px rgba(0, 0, 0, 0.9),
        0 25px 80px rgba(0, 0, 0, 0.8),
        inset 0 2px 4px rgba(255, 255, 255, 0.1),
        inset 0 -2px 4px rgba(0, 0, 0, 0.5);
      padding: 20px;
      display: flex;
      flex-direction: column;
    }

    .monitor-frame::before {
      content: '';
      position: absolute;
      top: -35px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 8px;
      background: linear-gradient(90deg, #1a1a1a, #2a2a2a, #1a1a1a);
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .monitor-frame::after {
      content: '';
      position: absolute;
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 15px;
      background: linear-gradient(180deg, #1a1a1a, #0a0a0a);
      border-radius: 0 0 8px 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    .monitor-screen {
      position: relative;
      width: 100%;
      height: 100%;
      background-color: #0a0a0a;
      border: 4px solid #000;
      border-radius: 8px;
      overflow-y: auto;
      overflow-x: hidden;
      box-shadow: 
        inset 0 0 150px rgba(0, 255, 0, 0.15),
        inset 0 0 80px rgba(0, 255, 0, 0.08),
        0 0 30px rgba(0, 255, 0, 0.3),
        inset -10px -10px 100px rgba(0, 0, 0, 0.5),
        inset 10px 10px 100px rgba(0, 0, 0, 0.5);
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
      /* CRT screen curvature effect */
      transform: perspective(1000px) rotateX(2deg);
      transform-style: preserve-3d;
    }

    .monitor-screen::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }

    .scanlines {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      min-height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.25),
        rgba(0, 0, 0, 0.25) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 10;
      animation: scanline 8s linear infinite;
      opacity: 0.8;
    }

    .scanlines::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        90deg,
        rgba(0, 255, 0, 0.03),
        rgba(0, 255, 0, 0.03) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
    }

    @keyframes scanline {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(4px);
      }
    }

    .screen-flicker {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      min-height: 100%;
      background: 
        radial-gradient(ellipse at center, rgba(0, 255, 0, 0.05) 0%, transparent 70%),
        radial-gradient(ellipse at 30% 30%, rgba(0, 255, 0, 0.02) 0%, transparent 50%),
        radial-gradient(ellipse at 70% 70%, rgba(0, 255, 0, 0.02) 0%, transparent 50%);
      pointer-events: none;
      z-index: 9;
      animation: flicker 0.15s infinite;
    }

    .screen-flicker::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(ellipse 80% 50% at 50% 50%, transparent 40%, rgba(0, 0, 0, 0.3) 100%);
      pointer-events: none;
    }

    @keyframes flicker {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.98;
      }
    }

    .terminal {
      position: relative;
      width: 100%;
      min-height: 100%;
      background-color: #000;
      border: none;
      padding: 60px 20px 20px 20px;
      box-shadow: none;
      overflow: visible;
      display: block;
      text-shadow: 
        0 0 3px rgba(0, 255, 0, 0.8),
        0 0 6px rgba(0, 255, 0, 0.6),
        0 0 9px rgba(0, 255, 0, 0.4),
        0 0 12px rgba(0, 255, 0, 0.2);
      /* Phosphor glow effect */
      filter: contrast(1.1) brightness(1.05);
    }

    .matrix-effect {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      overflow: hidden;
      color: #00ff00;
      font-family: Consolas, monospace;
      font-size: 14px;
      z-index: 2;
    }

    .output {
      color: #00ff00;
      margin-bottom: 10px;
      text-shadow: 
        0 0 3px rgba(0, 255, 0, 1),
        0 0 6px rgba(0, 255, 0, 0.8),
        0 0 9px rgba(0, 255, 0, 0.6),
        0 0 12px rgba(0, 255, 0, 0.4);
      max-width: 90%;
      word-wrap: break-word;
      overflow-wrap: break-word;
      word-break: break-word;
    }

    .output a {
      color: #00ff00;
      text-decoration: underline;
    }

    .output a:hover {
      color: #00cc00;
    }

    .command-line {
      display: flex;
      align-items: baseline;
      max-width: 90%;
      word-wrap: break-word;
      overflow-wrap: break-word;
      position: relative;
    }

    .thick-cursor {
      position: absolute;
      width: 3px;
      height: 1.2em;
      background-color: #00ff00;
      box-shadow: 
        0 0 4px rgba(0, 255, 0, 1),
        0 0 8px rgba(0, 255, 0, 0.8),
        0 0 12px rgba(0, 255, 0, 0.6);
      animation: blink 1s infinite;
      pointer-events: none;
      display: none;
      top: 50%;
      transform: translateY(-50%);
    }

    @keyframes blink {
      0%, 49% {
        opacity: 1;
      }
      50%, 100% {
        opacity: 0;
      }
    }

    .command-prompt {
      color: #00ff00;
      margin-right: 5px;
      text-shadow: 
        0 0 3px rgba(0, 255, 0, 1),
        0 0 6px rgba(0, 255, 0, 0.8),
        0 0 9px rgba(0, 255, 0, 0.6),
        0 0 12px rgba(0, 255, 0, 0.4);
    }

    .command-input {
      background-color: transparent;
      border: none;
      outline: none;
      color: #00ff00;
      font-family: inherit;
      font-size: inherit;
      flex-grow: 1;
      caret-color: #00ff00;
      text-shadow: 
        0 0 3px rgba(0, 255, 0, 1),
        0 0 6px rgba(0, 255, 0, 0.8),
        0 0 9px rgba(0, 255, 0, 0.6),
        0 0 12px rgba(0, 255, 0, 0.4);
    }

    /* Make caret thicker for browsers that support it (Firefox) */
    @supports (caret-width: 3px) {
      .command-input {
        caret-width: 3px;
      }
    }

    .command-input::selection {
      background-color: rgba(0, 255, 0, 0.2);
    }

    .monitor-brand {
      position: absolute;
      bottom: -50px;
      left: 50%;
      transform: translateX(-50%);
      color: #666;
      font-size: 11px;
      font-family: Arial, sans-serif;
      letter-spacing: 3px;
      text-transform: uppercase;
      white-space: nowrap;
      margin: 0;
      padding: 0;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
    }

    .monitor-controls {
      position: absolute;
      bottom: -50px;
      right: 20px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .monitor-button {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: linear-gradient(145deg, #444, #222);
      box-shadow: 
        inset 0 1px 3px rgba(0, 0, 0, 0.6),
        0 1px 2px rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(0, 0, 0, 0.3);
    }

    .monitor-button:first-child {
      background: linear-gradient(145deg, #0a0, #050);
      box-shadow: 
        inset 0 1px 3px rgba(0, 0, 0, 0.6),
        0 0 8px rgba(0, 255, 0, 0.4),
        0 1px 2px rgba(255, 255, 255, 0.1);
      animation: powerPulse 2s ease-in-out infinite;
    }

    @keyframes powerPulse {
      0%, 100% {
        box-shadow: 
          inset 0 1px 3px rgba(0, 0, 0, 0.6),
          0 0 8px rgba(0, 255, 0, 0.4),
          0 1px 2px rgba(255, 255, 255, 0.1);
      }
      50% {
        box-shadow: 
          inset 0 1px 3px rgba(0, 0, 0, 0.6),
          0 0 12px rgba(0, 255, 0, 0.6),
          0 1px 2px rgba(255, 255, 255, 0.1);
      }
    }

    /* Fullscreen mode */
    .monitor-frame:fullscreen,
    .monitor-frame:-webkit-full-screen,
    .monitor-frame:-moz-full-screen,
    .monitor-frame:-ms-fullscreen {
      width: 100vw;
      height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
      border: 30px solid #1a1a1a;
    }

    body:fullscreen .monitor-frame,
    body:-webkit-full-screen .monitor-frame,
    body:-moz-full-screen .monitor-frame,
    body:-ms-fullscreen .monitor-frame {
      width: 100vw;
      height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
      border: 30px solid #1a1a1a;
    }
  </style>
</head>
<body>
  <div class="monitor-frame">
    <div class="monitor-screen">
      <div class="screen-flicker"></div>
      <div class="scanlines"></div>
      <div class="terminal" id="terminal">
        <div class="matrix-effect" id="matrixEffect"></div>
        <div class="command-line">
          <div class="command-prompt">&gt;</div>
          <input id="commandInput" class="command-input" type="text" onkeydown="handleCommand(event)">
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Wait for the user interaction (click) to trigger fullscreen
      document.body.addEventListener('click', requestFullscreen);

      const terminal = document.getElementById("terminal");
      terminal.style.display = "block";
      
      // Update flicker and scanlines to cover full scrollable height
      function updateScreenEffects() {
        const monitorScreen = document.querySelector('.monitor-screen');
        const screenFlicker = document.querySelector('.screen-flicker');
        const scanlines = document.querySelector('.scanlines');
        const terminal = document.getElementById("terminal");
        
        if (monitorScreen && screenFlicker && scanlines && terminal) {
          // Get the actual content height (terminal's scrollHeight)
          const terminalHeight = terminal.scrollHeight;
          const screenHeight = monitorScreen.clientHeight;
          
          // Check if there's actually content to scroll
          const needsScroll = terminalHeight > screenHeight;
          
          if (needsScroll) {
            // There's scrollable content - enable scrolling and cover it all
            monitorScreen.style.overflowY = 'auto';
            screenFlicker.style.height = terminalHeight + 'px';
            scanlines.style.height = terminalHeight + 'px';
          } else {
            // No scrollable content - disable scrolling and match viewport exactly
            monitorScreen.style.overflowY = 'hidden';
            screenFlicker.style.height = screenHeight + 'px';
            scanlines.style.height = screenHeight + 'px';
          }
        }
      }
      
      // Update on content changes
      const observer = new MutationObserver(updateScreenEffects);
      if (terminal) {
        observer.observe(terminal, { childList: true, subtree: true });
      }
      
      // Initial update and periodic updates
      updateScreenEffects();
      setInterval(updateScreenEffects, 500);
      const welcomeMsg = document.createElement("div");
      welcomeMsg.className = "output";
      terminal.insertBefore(welcomeMsg, terminal.firstChild);

      const helpMsg = document.createElement("div");
      helpMsg.className = "output";
      terminal.insertBefore(helpMsg, terminal.children[1]);
      simulateTypeEffect(
        "Welcome to the Ryancodes Terminal! | Type 'HELP' for a list of commands | Click anywhere to enter full screen",
        helpMsg,
        true,
        () => {
          const input = document.getElementById("commandInput");
          input.focus();
          setupThickCursor(input);
        }
      );

      function setupThickCursor(input) {
        // Only use custom cursor for browsers that don't support caret-width (Chrome, Safari, Edge)
        if (!CSS.supports('caret-width', '3px')) {
          // Keep native caret visible as fallback, but we'll overlay a custom one
          const commandLine = input.parentElement;
          const prompt = commandLine.querySelector('.command-prompt');
          
          // Check if cursor already exists
          let cursor = commandLine.querySelector('.thick-cursor');
          if (!cursor) {
            cursor = document.createElement('div');
            cursor.className = 'thick-cursor';
            commandLine.appendChild(cursor);
          }
          
          function updateCursor() {
            if (!cursor) return;
            
            const textBeforeCursor = input.value.substring(0, input.selectionStart);
            
            // Create a mirror element to measure text width accurately
            const mirror = document.createElement('span');
            const inputStyle = getComputedStyle(input);
            mirror.style.cssText = `
              position: absolute;
              visibility: hidden;
              white-space: pre;
              font: ${inputStyle.font};
              letter-spacing: ${inputStyle.letterSpacing};
              padding: 0;
              margin: 0;
            `;
            mirror.textContent = textBeforeCursor;
            document.body.appendChild(mirror);
            const textWidth = mirror.offsetWidth;
            document.body.removeChild(mirror);
            
            // Calculate position: prompt width + text width + small offset
            const promptWidth = prompt ? prompt.offsetWidth + 5 : 0;
            cursor.style.left = (promptWidth + textWidth) + 'px';
            cursor.style.display = (document.activeElement === input) ? 'block' : 'none';
          }
          
          // Hide native caret for browsers without caret-width support
          input.style.caretColor = 'transparent';
          
          // Update cursor position on various events
          const events = ['input', 'keyup', 'keydown', 'click', 'focus'];
          events.forEach(event => {
            input.addEventListener(event, updateCursor);
          });
          
          input.addEventListener('blur', () => {
            if (cursor) cursor.style.display = 'none';
          });
          
          // Initial positioning
          setTimeout(updateCursor, 50);
        }
      }
    });

    // Function to request fullscreen
    function requestFullscreen() {
      const monitorFrame = document.querySelector('.monitor-frame');
      if (monitorFrame) {
        if (monitorFrame.requestFullscreen) {
          monitorFrame.requestFullscreen();
        } else if (monitorFrame.mozRequestFullScreen) {
          monitorFrame.mozRequestFullScreen();
        } else if (monitorFrame.webkitRequestFullscreen) {
          monitorFrame.webkitRequestFullscreen();
        } else if (monitorFrame.msRequestFullscreen) {
          monitorFrame.msRequestFullscreen();
        } else {
          // Fallback to document fullscreen
          const docEl = document.documentElement;
          if (docEl.requestFullscreen) {
            docEl.requestFullscreen();
          } else if (docEl.mozRequestFullScreen) {
            docEl.mozRequestFullScreen();
          } else if (docEl.webkitRequestFullscreen) {
            docEl.webkitRequestFullscreen();
          } else if (docEl.msRequestFullscreen) {
            docEl.msRequestFullscreen();
          }
        }
      } else {
        const docEl = document.documentElement;
        if (docEl.requestFullscreen) {
          docEl.requestFullscreen();
        } else if (docEl.mozRequestFullScreen) {
          docEl.mozRequestFullScreen();
        } else if (docEl.webkitRequestFullscreen) {
          docEl.webkitRequestFullscreen();
        } else if (docEl.msRequestFullscreen) {
          docEl.msRequestFullscreen();
        }
      }
      document.body.removeEventListener('click', requestFullscreen);
    }

    function redirectIfPhone() {
      const userAgent = navigator.userAgent.toLowerCase();
      const isMobile = /iphone|ipad|ipod|android|blackberry|iemobile|opera mini/i.test(userAgent);
      if (isMobile) {
        window.location.href = 'https://ryancodes.xyz/#mobile';
      }
    }

    redirectIfPhone();

    function simulateTypeEffect(text, outputElement, prepend = false, callback) {
      let index = 0;
      outputElement.innerHTML = prepend
        ? "<span style='color: #00ff00;'>code@ryancodes.xyz:~$ </span>"
        : "";

      function type() {
        if (index < text.length) {
          if (
            text.substring(index).startsWith("http://") ||
            text.substring(index).startsWith("https://")
          ) {
            let urlEnd = text.indexOf(" ", index);
            if (urlEnd === -1) urlEnd = text.length;
            let url = text.substring(index, urlEnd);

            let linkSpan = document.createElement("span");
            linkSpan.className = "typing-link";
            outputElement.appendChild(linkSpan);

            function typeLink(linkIndex) {
              if (linkIndex < url.length) {
                linkSpan.textContent += url[linkIndex];
                setTimeout(() => typeLink(linkIndex + 1), 30);
              } else {
                outputElement.innerHTML = outputElement.innerHTML.replace(
                  `<span class="typing-link">${url}</span>`,
                  `<a href="${url}" target="_blank" style="color: #00ff00;">${url}</a>`
                );
                index = urlEnd;
                setTimeout(type, 30);
              }
            }

            typeLink(0);
          } else {
            outputElement.innerHTML += text.charAt(index);
            index++;
            setTimeout(type, 30);
          }
        } else if (callback) {
          callback();
        }
      }
      type();
    }

    function handleCommand(event) {
      if (event.keyCode === 13) { // Enter key is pressed
        const commandInput = document.getElementById("commandInput");
        const command = commandInput.value.trim().toUpperCase();
        const terminal = document.getElementById("terminal");

        if (command === "CLEAR") {
          terminal.querySelectorAll('.output').forEach(e => e.remove());
        } else if (command === "QUIT") {
          const output = document.createElement("div");
          output.className = "output";
          terminal.insertBefore(output, terminal.lastElementChild);
          simulateTypeEffect("Returning to the main site...", output, true, () => {
            window.location.href = "https://ryancodes.xyz";
          });
        } else {
          const output = document.createElement("div");
          output.className = "output";
          terminal.insertBefore(output, terminal.lastElementChild);

          let response = "Command not found. Type 'HELP' to see the available commands.";
          if (command !== "") {
            switch (command) {
              case "WHOAMI":
                response = "Hi my name is Ryan, I'm 14 years old and I Love coding. In my time coding, I have learned how to make apps, how to make websites, how to make artificial intelligence using Python, how to build cool projects with Arduinos, how to develop for a Minecraft server (Developed at 75,000+ member server), how to run a tech support firm, and finally how to make games using Godot and Unreal Engine.";
                break;
              case "CONTACT":
                response = "Email me at ryan@ryancodes.xyz";
                break;
              case "MYAPPS":
                response = "WAR! - Card Game ( https://apps.apple.com/us/app/war-card-game/id6478232396 ) | EcoEducator ( https://apps.apple.com/us/app/eco-educator/id6743406567 )";
                break;
              case "HELP":
                response = "Available commands: WHOAMI, CONTACT, CLEAR, IZTECH, MYAPPS, MYGAMES, HELP, QUIT.";
                break;
              case "PRIVACY-POLICY":
                response = "https://ryancodes.xyz/privacy-policy";
                break;
              case "IZTECH":
                response = "Check out Iztech- my tech support company- at https://imryancodes.github.io/iztech/ (formerly iztech.xyz). At Iztech, we help with anything tech related, for FREE.";
                break;
              case "MYGAMES":
                response = "https://ryancodes.xyz/games";
                break;
            }
            simulateTypeEffect(response, output, true, () => {
              terminal.scrollTop = terminal.scrollHeight;
            });
          }
        }

        commandInput.value = ""; // Clear the input
      }
    }
  </script>
</body>
</html>
